{"ast":null,"code":"const API_BASE_URL = process.env.REACT_APP_API_URL || \"http://localhost:5000/api\";\nexport const apiService = {\n  async makeRequest(endpoint, options = {}) {\n    const url = `${API_BASE_URL}${endpoint}`;\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        ...options.headers\n      },\n      ...options\n    };\n    try {\n      const response = await fetch(url, config);\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.message || data.error || `HTTP error! status: ${response.status}`);\n      }\n      return data;\n    } catch (error) {\n      console.error('API Request failed:', error);\n      throw error;\n    }\n  },\n  async getTickets(filters = {}) {\n    const params = new URLSearchParams();\n    if (filters.search) params.append('search', filters.search);\n    if (filters.assignee && filters.assignee !== 'all') {\n      params.append('assignee', filters.assignee);\n    }\n    if (filters.type && filters.type !== 'all') {\n      params.append('type', filters.type);\n    }\n    if (filters.status && filters.status !== 'all') {\n      params.append('status', filters.status);\n    }\n    const queryString = params.toString();\n    const endpoint = queryString ? `/tickets?${queryString}` : '/tickets';\n    return await this.makeRequest(endpoint);\n  },\n  async getTicketDetails(key) {\n    return await this.makeRequest(`/tickets/${key}/details`);\n  },\n  async createTicket(data) {\n    return await this.makeRequest('/tickets', {\n      method: 'POST',\n      body: JSON.stringify({\n        summary: data.summary,\n        description: data.description,\n        issueType: data.issueType,\n        // Cohérent avec l'API\n        priority: data.priority,\n        assignee: data.assignee\n      })\n    });\n  },\n  async updateTicket(key, data) {\n    const payload = {};\n    if (data.summary && data.summary.trim()) {\n      payload.summary = data.summary.trim();\n    }\n    if (data.description && data.description.trim()) {\n      payload.description = data.description.trim();\n    }\n    if (data.priority) {\n      payload.priority = data.priority;\n    }\n    if (data.issueType) {\n      payload.issueType = data.issueType; // Cohérent\n    }\n    if (data.assignee) {\n      payload.assignee = data.assignee;\n    }\n    return await this.makeRequest(`/tickets/${key}`, {\n      method: 'PUT',\n      body: JSON.stringify(payload)\n    });\n  },\n  async deleteTicket(key) {\n    return await this.makeRequest(`/tickets/${key}`, {\n      method: 'DELETE'\n    });\n  },\n  async getTransitions(key) {\n    return await this.makeRequest(`/tickets/${key}/transitions`);\n  },\n  async transitionTicket(key, transitionName, comment = null) {\n    const payload = {\n      transition_name: transitionName\n    };\n    if (comment && comment.trim()) {\n      payload.comment = comment.trim();\n    }\n    return await this.makeRequest(`/tickets/${key}/transition`, {\n      method: 'POST',\n      body: JSON.stringify(payload)\n    });\n  },\n  async getStats() {\n    return await this.makeRequest('/stats');\n  },\n  async healthCheck() {\n    return await this.makeRequest('/health');\n  },\n  async getAnalytics() {\n    return await this.makeRequest('/analytics');\n  }\n};","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","apiService","makeRequest","endpoint","options","url","config","headers","response","fetch","data","json","ok","Error","message","error","status","console","getTickets","filters","params","URLSearchParams","search","append","assignee","type","queryString","toString","getTicketDetails","key","createTicket","method","body","JSON","stringify","summary","description","issueType","priority","updateTicket","payload","trim","deleteTicket","getTransitions","transitionTicket","transitionName","comment","transition_name","getStats","healthCheck","getAnalytics"],"sources":["/home/abdou/stage2/jira_final_project/jira_project/src/apiService.js"],"sourcesContent":["const API_BASE_URL = process.env.REACT_APP_API_URL || \"http://localhost:5000/api\";\n\nexport const apiService = {\n  async makeRequest(endpoint, options = {}) {\n    const url = `${API_BASE_URL}${endpoint}`;\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        ...options.headers,\n      },\n      ...options,\n    };\n\n    try {\n      const response = await fetch(url, config);\n      const data = await response.json();\n      \n      if (!response.ok) {\n        throw new Error(data.message || data.error || `HTTP error! status: ${response.status}`);\n      }\n      \n      return data;\n    } catch (error) {\n      console.error('API Request failed:', error);\n      throw error;\n    }\n  },\n\n  async getTickets(filters = {}) {\n    const params = new URLSearchParams();\n    if (filters.search) params.append('search', filters.search);\n    if (filters.assignee && filters.assignee !== 'all') {\n      params.append('assignee', filters.assignee);\n    }\n    if (filters.type && filters.type !== 'all') {\n      params.append('type', filters.type);\n    }\n    if (filters.status && filters.status !== 'all') {\n      params.append('status', filters.status);\n    }\n    \n    const queryString = params.toString();\n    const endpoint = queryString ? `/tickets?${queryString}` : '/tickets';\n    \n    return await this.makeRequest(endpoint);\n  },\n\n  async getTicketDetails(key) {\n    return await this.makeRequest(`/tickets/${key}/details`);\n  },\n\n  async createTicket(data) {\n    return await this.makeRequest('/tickets', {\n      method: 'POST',\n      body: JSON.stringify({\n        summary: data.summary,\n        description: data.description,\n        issueType: data.issueType,  // Cohérent avec l'API\n        priority: data.priority,\n        assignee: data.assignee\n      }),\n    });\n  },\n\n  async updateTicket(key, data) {\n    const payload = {};\n    if (data.summary && data.summary.trim()) {\n      payload.summary = data.summary.trim();\n    }\n    if (data.description && data.description.trim()) {\n      payload.description = data.description.trim();\n    }\n    if (data.priority) {\n      payload.priority = data.priority;\n    }\n    if (data.issueType) {\n      payload.issueType = data.issueType;  // Cohérent\n    }\n    if (data.assignee) {\n      payload.assignee = data.assignee;\n    }\n    \n    return await this.makeRequest(`/tickets/${key}`, {\n      method: 'PUT',\n      body: JSON.stringify(payload),\n    });\n  },\n\n  async deleteTicket(key) {\n    return await this.makeRequest(`/tickets/${key}`, {\n      method: 'DELETE',\n    });\n  },\n\n  async getTransitions(key) {\n    return await this.makeRequest(`/tickets/${key}/transitions`);\n  },\n\n  async transitionTicket(key, transitionName, comment = null) {\n    const payload = { transition_name: transitionName };\n    if (comment && comment.trim()) {\n      payload.comment = comment.trim();\n    }\n    \n    return await this.makeRequest(`/tickets/${key}/transition`, {\n      method: 'POST',\n      body: JSON.stringify(payload),\n    });\n  },\n\n  async getStats() {\n    return await this.makeRequest('/stats');\n  },\n\n  async healthCheck() {\n    return await this.makeRequest('/health');\n  },\n  async getAnalytics() {\n    return await this.makeRequest('/analytics');\n  }\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}